<div class="w3-container w3-center w3-margin" style="max-width: 600px; margin: auto;">
    <div class="card" style="background: #f9f9f9; border-radius: 12px; padding: 20px; box-shadow: 0 4px 10px rgba(0,0,0,0.1);">
        <div style="display: flex; justify-content: space-between; margin-bottom: 10px;">
            <h2>Puntaje: {{puntaje}}</h2>
            <h2>Nivel: {{nivel_usuario}}</h2>
        </div>
        <p>Tiempo restante: <span id="tiempo">{{tiempo_limite}}</span></p>

        {{#partida}}
            <div style="display: flex; justify-content: space-between; margin: 10px 0;">
                <p style="font-weight: bold;">Categor√≠a: {{pregunta.categoria}}</p>
                <p style="font-weight: bold;">Dificultad: {{pregunta.nivel}}/10</p>
            </div>
            <h2 style="margin: 15px 0;">{{pregunta.pregunta}}</h2>

            <form method="POST" action="/game/jugarPartida" id="formPregunta">
                <div style="display: flex; gap: 10px; flex-wrap: wrap; justify-content: center;">
                    {{#respuestas}}
                        <button type="submit" name="idRespuesta" value="{{id}}" style="background-color: {{partida.pregunta.color_categoria}}; color: white; border: none; padding: 12px 20px; border-radius: 8px; cursor: pointer; font-size: 16px; transition: 0.2s;">
                            {{texto}}
                        </button>
                    {{/respuestas}}
                </div>
            </form>
        {{/partida}}
    </div>

    <script>
        let tiempo = {{tiempo_limite}};
        const temporizador = setInterval(() => {
            tiempo--;
            document.querySelector('#tiempo').textContent = tiempo;

            if (tiempo <= 0) {
                clearInterval(temporizador);
                document.querySelector('#formPregunta').submit();
            }
        }, 1000);
    </script>
</div>